"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[392],{90110:(e,n,i)=>{i.d(n,{q:()=>T,o:()=>x});var a=i(63038),t=i.n(a),l=i(59713),d=i.n(l),r=i(67294),o=i.n(r),m=i(94184),s=i.n(m),u=i(69518),c=i.n(u),k=i(50020),v=i(96895),N=i(20657),S=i(83692),g=i(24656),b=i(69010),p=i(80946),f=i(6116),F=i(38209),y=i(40080);const h="l_MW0G9qeeCKlVJwBykT",E="BKsbV2Xl786X9a09XROH",w="HbKLiGoYM4dpuK8L4TMX",D="_APVWqivXc4YqgsnpFkP",C="VmwiDoU6RpqyzK_n7XRO",A="rEx3EYgBzS8SoY7dmC6x",I="z3zia5snl987x676qe5w";var T;!function(e){e[e.sm=24]="sm",e[e.md=32]="md"}(T||(T={}));var V=function(e){var n=e.currentTarget;e.detail>0&&n&&n.blur()},x=function(e){var n=e.uri,i=e.isFollowing,a=e.onFollow,l=e.size,m=void 0===l?T.sm:l,u=e.className,x=e.onClick,P=void 0===x?function(){}:x,R=d()({},"--size","".concat(m,"px")),L=(0,r.useContext)(g.I),U=L.useDownloading,O=L.useDownloadCapability,M=(0,r.useState)(!1),_=t()(M,2),z=_[0],W=_[1],q=O(c().isEpisode(n)),Y=t()(q,2),B=Y[0],Q=Y[1],H=(0,r.useState)(!1),X=t()(H,2),Z=X[0],G=X[1],K=U(n),j=K.currentAvailability,$=K.progress,J=K.beginDownload,ee=K.clearDownload;!function(e,n){var i=(0,F.r)(),a=(0,r.useRef)(!1);(0,r.useEffect)((function(){e===b.V8.DOWNLOADING&&!1===a.current&&(a.current=!0,i.say(N.ag.get("download.downloading",n.totalItems)))}),[i,e,n]);var t=(0,y.D)(e);(0,r.useEffect)((function(){t===b.V8.DOWNLOADING&&e===b.V8.YES&&(a.current=!1,i.say(N.ag.get("download.complete")))}),[i,t,e])}(j,$);var ne=(0,r.useCallback)((function(e){Q===b.v$.DOWNLOADING_NOT_ALLOWED?G(!0):!1===i?(a(),W(!0)):J(),P(e),V(e)}),[J,Q,i,P,a]),ie=(0,r.useCallback)((function(e){ee(),V(e),P(e)}),[ee,P]);return(0,r.useEffect)((function(){!0===z&&!0===i&&(J(),W(!1))}),[i,z,J]),B===b.PQ.NO_DOWNLOAD_CAPABILITY?null:Q===b.v$.DOWNLOADING_NOT_ALLOWED?o().createElement("div",{className:E},o().createElement(S.w,{label:N.ag.get("download.download")},o().createElement("button",{className:s()(w,u),role:"switch",onClick:ne,"aria-label":N.ag.get("download.download"),"aria-checked":!1},o().createElement(k.a,{iconSize:m}))),Z&&o().createElement("div",{className:I},o().createElement(p.E,{withTopLeftPointer:!0,horizontal:!0,onClose:function(){G(!1)}},N.ag.get("download.upsell")))):j===b.V8.YES?o().createElement(S.w,{label:N.ag.get("download.remove")},o().createElement("button",{className:s()(w,u,D),role:"switch",onClick:ie,"aria-label":N.ag.get("download.remove"),"aria-checked":!0},o().createElement(v.C,{iconSize:m}))):j===b.V8.NO?o().createElement(S.w,{label:N.ag.get("download.download")},o().createElement("button",{className:s()(w,u),role:"switch",onClick:ne,"aria-label":N.ag.get("download.download"),"aria-checked":!1},o().createElement(k.a,{iconSize:m}))):o().createElement("div",{className:s()(C,u),role:"switch","aria-checked":!0},o().createElement(S.w,{label:N.ag.get("download.cancel")},o().createElement("button",{style:R,className:s()(w,h,u),onClick:ie,"aria-label":N.ag.get("download.cancel")})),o().createElement("span",{style:R,className:s()(A,h)},o().createElement(f.e,{"aria-valuetext":N.ag.get("progress.downloading-tracks"),percentage:$.percentage,size:m})))}},13768:(e,n,i)=>{i.d(n,{i:()=>c});i(68309),i(83710),i(41539),i(39714);var a=i(67294),t=i.n(a),l=i(20657),d=i(18261),r=i(48528),o=i(4232),m=i(36590),s=i(8498),u=i(27298),c=t().memo((function(e){var n=e.images,i=e.name,a=e.uri,c=e.type,k=e.year,v=e.sharingInfo,N=e.latest,S=e.showType,g=e.onClick,b=e.delegatePlayback,p=void 0!==b&&b,f=e.isPlaying,F=e.onPlay,y=e.index,h=e.navigationUrl,E=N?l.ag.get("artist.latest-release"):k;return t().createElement(d._,{menu:t().createElement(o.Y,{uri:a,sharingInfo:v})},t().createElement(m.C,{onClick:g,featureIdentifier:"album",headerText:i,uri:a,index:y,delegatePlayback:p,isPlaying:f,onPlay:F,navigationUrl:h,renderCardImage:function(){return t().createElement(s.x,{images:n})},renderSubHeaderContent:function(){return t().createElement(t().Fragment,null,E&&t().createElement("time",{dateTime:(k||"").toString()},E),S&&t().createElement("span",{className:u.Z.type},(0,r.R)(c)))}}))}))},77392:(e,n,i)=>{i.r(n),i.d(n,{AlbumTrackList:()=>ve,default:()=>he});var a=i(48926),t=i.n(a),l=i(63038),d=i.n(l),r=i(87757),o=i.n(r),m=(i(91058),i(66992),i(41539),i(78783),i(33948),i(41637),i(74916),i(64765),i(47042),i(68309),i(21249),i(5212),i(85827),i(15306),i(67294)),s=i.n(m),u=i(16528),c=i(28760),k=i(26115),v=i(74594),N=i(90110),S=i(95661),g=i(13768),b=i(4232),p=i(70369),f=i(42273),F=i(59482),y=i(72907),h=i(1663),E=i(6479),w=i.n(E),D=i(20657),C=i(11414),A=i(18937),I=i(74380),T=i(6489),V=i(91931),x=i(38894),P=function(e){var n,i=e.children,a=e.content,t=e.onIntercept,l=void 0===t?function(){}:t,d=(0,x.g)();try{n=s().Children.only(i)}catch(e){return s().createElement(s().Fragment,null,i)}return d?s().createElement(V.Nt,{trigger:"click",action:"open",placement:"bottom",offset:[0,20],content:a},s().cloneElement(n,{onClick:l})):s().createElement(s().Fragment,null,i)},R=(i(82526),i(41817),i(65858)),L=i(16229),U=i(1447),O=i(42922),M=i(70108),_=i(56802);const z={container:"WHINADihyTCx2VFxwY8X"};var W=function(e){var n=e.title,i=e.description,a=(0,R.I0)(),t=(0,U.qT)(),l=(0,_.o)();return(0,m.useEffect)((function(){l({intent:"open-upsell",type:"view"})}),[l]),s().createElement(V.yv,null,s().createElement("div",{className:z.container},s().createElement(c.Dy,{as:"p",className:z.title,variant:"cello"},n),s().createElement(c.Dy,{as:"p",className:z.description,variant:"mesto"},i),s().createElement("div",{className:z.buttonContainer},s().createElement(L.Y,{className:z.secondaryButton,version:"tertiary",onClick:function(){l({intent:"close-upsell",type:"click"}),t({type:"close"})}},D.ag.get("action-trigger.button.not-now")),s().createElement(L.Y,{className:z.primaryButton,version:"primary",onClick:function(){l({intent:"login",type:"click"}),a((0,M.sX)())}},D.ag.get("login")))))},q=function(e){return s().createElement(O.ZP,{value:"tooltip-with-cta"},s().createElement(W,e))},Y=["uri"],B=function(e){var n=e.uri,i=w()(e,Y),a=(0,I.j5)();return s().createElement(P,{content:s().createElement(q,{title:D.ag.get("action-trigger.save-library"),description:D.ag.get("action-trigger.save-album")}),onIntercept:function(){return a.storeAction(A.wH,{operation:T.pT.ADD,uris:[n]})}},s().createElement(C.H,i))},Q=i(55120),H=i(19480),X=i(80322),Z=i(4236),G=i(30947),K=i(55911),j=i(32626),$=i(20246),J=i(94233),ee=i(53646),ne=i(98984),ie=i(4383),ae=i(84242),te=i(7073),le=i(319),de=i.n(le),re=(i(92222),{kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getAlbumMetadata"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"album"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"FragmentSpread",name:{kind:"Name",value:"albumArtists"}},{kind:"FragmentSpread",name:{kind:"Name",value:"albumCoverArt"}},{kind:"FragmentSpread",name:{kind:"Name",value:"albumDiscs"}},{kind:"FragmentSpread",name:{kind:"Name",value:"albumTracksMetadata"}},{kind:"FragmentSpread",name:{kind:"Name",value:"albumReleases"}},{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"date"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isoString"}},{kind:"Field",name:{kind:"Name",value:"precision"}}]}},{kind:"Field",name:{kind:"Name",value:"playability"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playable"}},{kind:"Field",name:{kind:"Name",value:"reason"}}]}},{kind:"Field",name:{kind:"Name",value:"label"}},{kind:"Field",name:{kind:"Name",value:"copyright"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"text"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"courtesyLine"}},{kind:"Field",name:{kind:"Name",value:"saved"}},{kind:"Field",name:{kind:"Name",value:"sharingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"shareUrl"}},{kind:"Field",name:{kind:"Name",value:"shareId"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"moreAlbumsByArtist"}}]}}]}}].concat(de()([{kind:"FragmentDefinition",name:{kind:"Name",value:"albumArtists"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Album"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"artists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"visuals"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"avatarImage"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"sharingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"shareUrl"}}]}}]}}]}}]}}]),de()([{kind:"FragmentDefinition",name:{kind:"Name",value:"albumCoverArt"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Album"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"extractedColors"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"colorRaw"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hex"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}}]}}]),de()([{kind:"FragmentDefinition",name:{kind:"Name",value:"albumDiscs"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Album"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"discs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"number"}},{kind:"Field",name:{kind:"Name",value:"tracks"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}}]}}]}}]}}]}}]),de()([{kind:"FragmentDefinition",name:{kind:"Name",value:"albumTracksMetadata"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Album"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"tracks"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"track"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playability"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playable"}},{kind:"Field",name:{kind:"Name",value:"reason"}}]}},{kind:"Field",name:{kind:"Name",value:"duration"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalMilliseconds"}}]}}]}}]}}]}}]}}]),de()([{kind:"FragmentDefinition",name:{kind:"Name",value:"albumReleases"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Album"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"releases"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}}]),de()([{kind:"FragmentDefinition",name:{kind:"Name",value:"moreAlbumsByArtist"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Album"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"moreAlbumsByArtist"},name:{kind:"Name",value:"artists"},arguments:[{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"1"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"discography"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"popularReleases"},arguments:[{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"10"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"releases"},arguments:[{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"1"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"date"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"year"}}]}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"playability"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playable"}},{kind:"Field",name:{kind:"Name",value:"reason"}}]}},{kind:"Field",name:{kind:"Name",value:"sharingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"shareId"}},{kind:"Field",name:{kind:"Name",value:"shareUrl"}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]))}),oe=([{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getAlbumContents"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"album"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"tracks"},arguments:[{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"albumTrack"}}]}}]}}]}}]}}].concat(de()([{kind:"FragmentDefinition",name:{kind:"Name",value:"albumTrack"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ContextTrack"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uid"}},{kind:"Field",name:{kind:"Name",value:"track"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"FragmentSpread",name:{kind:"Name",value:"albumTrackArtists"}},{kind:"Field",name:{kind:"Name",value:"playability"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playable"}},{kind:"Field",name:{kind:"Name",value:"reason"}}]}},{kind:"Field",name:{kind:"Name",value:"duration"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalMilliseconds"}}]}},{kind:"Field",name:{kind:"Name",value:"contentRating"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"label"}}]}},{kind:"Field",name:{kind:"Name",value:"playcount"}},{kind:"Field",name:{kind:"Name",value:"saved"}},{kind:"Field",name:{kind:"Name",value:"discNumber"}},{kind:"Field",name:{kind:"Name",value:"trackNumber"}},{kind:"Field",name:{kind:"Name",value:"sharingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"shareUrl"}},{kind:"Field",name:{kind:"Name",value:"shareId"}}]}}]}}]}}]),de()([{kind:"FragmentDefinition",name:{kind:"Name",value:"albumTrackArtists"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Track"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"artistsWithRoles"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"role"}},{kind:"Field",name:{kind:"Name",value:"artist"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}}]}}]}}])),i(43290),i(34553),i(28248)),me=i(3775),se=i(29064),ue=i(9554),ce={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"queryAlbumTracks"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"album"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playability"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playable"}}]}},{kind:"Field",name:{kind:"Name",value:"tracks"},arguments:[{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uid"}},{kind:"Field",name:{kind:"Name",value:"track"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"saved"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"playcount"}},{kind:"Field",name:{kind:"Name",value:"discNumber"}},{kind:"Field",name:{kind:"Name",value:"trackNumber"}},{kind:"Field",name:{kind:"Name",value:"contentRating"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"label"}}]}},{kind:"Field",name:{kind:"Name",value:"relinkingInformation"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"isRelinked"}}]}},{kind:"Field",name:{kind:"Name",value:"duration"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalMilliseconds"}}]}},{kind:"Field",name:{kind:"Name",value:"playability"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playable"}}]}},{kind:"Field",name:{kind:"Name",value:"artists"},arguments:[{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"IntValue",value:"0"}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"10"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}}]}}]}}]}}]}}]}}]};function ke(e){return e.total_count>=2&&e.total_count<=10}var ve=s().memo((function(e){var n=e.ariaLabel,i=e.nrTracks,a=e.discs,t=e.albumUri,l=e.highlightUri,r=e.scrollToIndex,o=e.usePlayContextItem,u=e.hasHeaderRow,c=void 0===u||u,k=(0,se.ZO)()===ue.W.Web,v=(0,m.useContext)(me.Ax).request,N=(0,m.useRef)(null),S=(0,m.useRef)(!1),g=(0,m.useState)(null),b=d()(g,2),p=b[0],f=b[1];(0,m.useEffect)((function(){N.current&&(p?N.current.scrollToIndex(p):r&&N.current.scrollToIndex(r))}),[p,r]);var F=(0,m.useMemo)((function(){return function(e){return ke(e)?e.items.reduce((function(e,n){return e.push(n.number-1),e.concat(Array(n.total_tracks).fill(n.number))}),[]):null}(a)}),[a]),y=(0,m.useCallback)((function(e,n){return v(ce,{uri:t,offset:null!==F?e-F[e]:e,limit:n}).then((function(e){var n,i;if(l&&!p){var t,d,r,o=null==e||null===(t=e.data)||void 0===t||null===(d=t.album)||void 0===d||null===(r=d.tracks.items)||void 0===r?void 0:r.findIndex((function(e){return e.track.uri===l}));f(o||-1)}return function(e,n){if(!ke(n)||!e)return e;var i=0;return e.reduce((function(e,n){return(n.track.trackNumber<i||1===n.track.trackNumber)&&e.push({discNumber:n.track.discNumber}),e.push(n),i=n.track.trackNumber,e}),[])}(null==e||null===(n=e.data)||void 0===n||null===(i=n.album)||void 0===i?void 0:i.tracks.items,a)||[]}))}),[v,t,F,l,p,a]),h=(0,m.useCallback)((function(e,n){var i,a,d;if("discNumber"in e)return s().createElement(oe.UT,{key:n+e.discNumber,discNumber:e.discNumber});var r,m=e,u=m.uid,c=m.track;r=null!==(i=c.relinkingInformation)&&void 0!==i&&i.isRelinked?c.relinkingInformation.uri:c.uri;var v=c.playcount?parseInt(c.playcount,10):0,N=!(S.current||!l||l!==c.uri&&l!==(null===(a=c.relinkingInformation)||void 0===a?void 0:a.uri));return N&&(S.current=!0),s().createElement(oe.Ym,{key:n+c.uri,index:n,trackNumber:c.trackNumber,contextUri:t,uri:r,uid:u,duration_ms:c.duration.totalMilliseconds,name:c.name,isPlayable:c.playability.playable,artists:c.artists.items,contentRating:null===(d=c.contentRating)||void 0===d?void 0:d.label,playcount:v,shouldRenderPlayCount:!k,shouldHighLight:N,usePlayContextItem:o})}),[l,t,k,o]),E=(0,m.useMemo)((function(){return function(e){return e?[oe.QD.INDEX,oe.QD.TITLE,oe.QD.DURATION]:[oe.QD.INDEX,oe.QD.TITLE,oe.QD.PLAYS,oe.QD.DURATION]}(k)}),[k]),w=(0,m.useCallback)((function(e){return"track"in e?e.track.uri:""}),[]);return s().createElement(O.ZP,{value:"album-tracklist"},s().createElement(oe.Pv,{key:t,ariaLabel:n,hasHeaderRow:c,rowPlaceholder:oe.uD,columns:E,renderRow:h,resolveUri:w,nrTracks:ke(a)?a.total_count+i:i,fetchTracks:y,limit:300,outerRef:N}))})),Ne=i(69518),Se=i.n(Ne),ge=i(30005),be=i(21691),pe=function(e){var n=e.releases;return s().createElement(ge.v,null,n.map((function(e){return s().createElement(be.s,{key:e.uri,role:"menuitem",to:Se().from(e.uri).toURLPath(!0)},e.name)})))};const fe={album:"n8Bz0c0v17whD3KfMdOk",albumWindowedMessage:"zddjxV2lX9ukNM5QXloA",albumWindowedMessageHeader:"lVqlPjQLuQhK2flsxB78",albumWindowedMessageDescription:"O_EguRjsZ4uI1hHamkOA",moreAlbumsByArtist:"jcaQQxoVnuuhtVwDJU1R",releasesDropdown:"fLS8v3_EfBadEerbGVoR",footer:"in4OjUTflcsoj9RUpf05"};var Fe=function(e){var n,i,a,l,r,h,E,w,A,I,T,V,x,P=e.uri,R=e.album,L=(0,u.k6)(),U=(0,_.o)(),O=(0,Z.k)(),M=null===(n=R.moreAlbumsByArtist)||void 0===n||null===(i=n.items[0])||void 0===i||null===(a=i.discography)||void 0===a||null===(l=a.popularReleases)||void 0===l?void 0:l.items,z=(0,ie.Z)(P),W=d()(z,2),q=W[0],Y=W[1],ne=parseInt(new URLSearchParams((0,u.TH)().search).get("index")||"0",10),le=(0,X.Y)(P),de=(0,ae.n)({uri:le},{featureIdentifier:"album"}),re=de.usePlayContextItem,oe=de.togglePlay,me=de.isPlaying,se=(0,m.useCallback)(t()(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return U({targetUri:P,intent:q?"unsave":"save",type:"click"}),e.prev=1,e.next=4,Y(!q);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])}))),[U,P,q,Y]),ue=(0,m.useCallback)((function(){return new URLSearchParams(L.location.search.slice(1)).get("highlight")||""}),[L.location.search]),ce=R.uri,ke=R.name,Ne=R.type,Se=null===(r=R.date)||void 0===r?void 0:r.isoString,ge=R.tracks.totalCount,be=((null===(h=R.coverArt)||void 0===h?void 0:h.sources)||[]).map((function(e){return{url:e.url,width:e.width||void 0,height:e.height||void 0}})),Fe=null===(E=R.coverArt)||void 0===E||null===(w=E.extractedColors)||void 0===w?void 0:w.colorRaw.hex,ye=R.artists.items.map((function(e){var n;return{name:e.profile.name,images:((null===(n=e.visuals.avatarImage)||void 0===n?void 0:n.sources)||[]).map((function(e){return{url:e.url,width:e.width||void 0,height:e.height||void 0}})),uri:e.uri,id:e.uri}})),he=R.tracks.items.some((function(e){return e.track.playability.playable})),Ee=R.playability.reason===te.Ku.CatalogueRestricted,we=(0,m.useMemo)((function(){return{total_count:R.discs.totalCount,items:R.discs.items.map((function(e){return{number:e.number,total_tracks:e.tracks.totalCount}}))}}),[R.discs]),De=R.copyright.items,Ce=R.courtesyLine,Ae=R.tracks.items.reduce((function(e,n){return e+n.track.duration.totalMilliseconds}),0),Ie=R.tracks.items.length>0?Ae/R.tracks.items.length*R.tracks.totalCount:0,Te=R.tracks.items.length<R.tracks.totalCount,Ve=ue(),xe=O;return(0,ee.Y5)(Fe||null),s().createElement("section",{className:fe.album,"data-testid":"album-page"},s().createElement(p.$,null,D.ag.get("album.page-title",R.name)),s().createElement(f.gF,{backgroundColor:Fe},s().createElement(F.W,null,s().createElement(Q.$,{size:K.qE.sm,onClick:function(){return oe()},disabled:!he,isPlaying:me,uri:P}),s().createElement(y.i,{text:ke,dragUri:P,dragLabel:ke})),s().createElement(j._P,{menu:s().createElement(b.Y,{uri:R.uri,artistUri:null==ye||null===(A=ye[0])||void 0===A?void 0:A.uri,sharingInfo:R.sharingInfo})},s().createElement(f.Oz,{dragUri:ce,images:be,name:ke,placeholderType:"album"})),s().createElement(f.sP,null,s().createElement(f.dy,{small:!0,uppercase:!0},function(e){switch(e){case te.VZ.Single:return D.ag.get("single");case te.VZ.Ep:return D.ag.get("ep");case te.VZ.Compilation:return D.ag.get("compilation");case te.VZ.Album:default:return D.ag.get("album")}}(Ne)),s().createElement(j._P,{menu:s().createElement(b.Y,{uri:R.uri,artistUri:null==ye||null===(I=ye[0])||void 0===I?void 0:I.uri,sharingInfo:R.sharingInfo})},s().createElement(f.xd,{dragUri:R.uri,dragLabel:R.name},ke)),s().createElement(f.QS,{creators:ye,releaseDate:Se,totalTracks:ge,durationMilliseconds:Ie,isEstimatedDuration:Te}))),s().createElement(G.o,{backgroundColor:Fe},s().createElement(G.F,null,s().createElement(Q.$,{onClick:function(){return oe()},disabled:!he,isPlaying:me,size:K.qE.lg,uri:P}),s().createElement(B,{isAdded:!!q,onClick:se,disabled:!O,size:C.q.md,uri:P}),xe?s().createElement(N.o,{uri:P,isFollowing:!!q,onFollow:se,size:N.q.md}):null,s().createElement($.y,{menu:s().createElement(b.Y,{uri:R.uri,artistUri:null==ye||null===(T=ye[0])||void 0===T?void 0:T.uri,sharingInfo:R.sharingInfo})},s().createElement(S.z,{label:D.ag.get("more.label.context",ke)})))),Ee?s().createElement("div",{className:fe.albumWindowedMessage},s().createElement(c.Dy,{as:"h2",variant:"cello",className:fe.albumWindowedMessageHeader},D.ag.get("windowed.product-album-header")),s().createElement("div",{className:fe.albumWindowedMessageDescription},D.ag.get("windowed.product-album-description"))):null,s().createElement("div",{className:"contentSpacing"},s().createElement(ve,{ariaLabel:ke,nrTracks:ge,discs:we,albumUri:ce,highlightUri:Ve,scrollToIndex:ne,usePlayContextItem:re}),s().createElement("div",{className:fe.footer},s().createElement(J.k,{copyrights:De,courtesyLine:Ce}),R.releases.items.length>0&&s().createElement(j.xV,{menu:s().createElement(pe,{releases:R.releases.items})},(function(e,n,i){return s().createElement("button",{ref:i,className:fe.releasesDropdown,type:"button",onClick:n},s().createElement(c.Dy,{variant:"mesto"},D.ag.get("album-page.more-releases",R.releases.items.length)),e?s().createElement(k.q,{className:fe.chevron,iconSize:16}):s().createElement(v.m,{className:fe.chevron,iconSize:16}))})))),(null==M?void 0:M.length)>0&&s().createElement("div",{className:"contentSpacing"},s().createElement(H.P,{className:fe.moreAlbumsByArtist,title:D.ag.get("album-page.more-by-artist",null==ye||null===(V=ye[0])||void 0===V?void 0:V.name),total:M.length,seeAllUri:"".concat(null==ye||null===(x=ye[0])||void 0===x?void 0:x.uri.replace("artist","app:artist"),":discography"),seeAllLabel:D.ag.get("artist-page.show-discography"),alwaysShowSeeAll:!0},M.map((function(e,n){var i,a,t=e.releases.items[0];return s().createElement(g.i,{index:n,key:t.uri,artists:ye,images:(null===(i=t.coverArt)||void 0===i?void 0:i.sources)||[],name:t.name,uri:t.uri,year:null===(a=t.date)||void 0===a?void 0:a.year,type:t.type,sharingInfo:t.sharingInfo})})))))},ye=s().memo((function(){var e,n,i=(0,u.UO)().albumId,a="spotify:album:".concat(i),t=(e={uri:a},n={cacheTime:15*ne.y},(0,ne.a)(re,e,n)),l=t.loading,d=t.error,r=t.data;return l||null==r||!r.album?s().createElement(h.h,{hasError:null!==d,errorMessage:D.ag.get("error.not_found.title.album")}):s().createElement(Fe,{uri:a,album:r.album})}));const he=ye},38894:(e,n,i)=>{i.d(n,{g:()=>l});var a=i(65858),t=i(29255),l=function(){return(0,a.v9)(t.Gg).isAnonymous}},94233:(e,n,i)=>{i.d(n,{k:()=>r});i(21249),i(74916),i(15306),i(92222);var a=i(67294),t=i.n(a),l=i(28760);const d="rTMkDBDp47Eo12ZEQv4U";var r=function(e){var n=e.copyrights,i=e.courtesyLine,a=(n||[]).map((function(e,n){var i,a=e.text.replace(/^(\(C\)\s+)/,"").replace(/^(\(P\)\s+)/,"").replace(/^(©\s+)/,"").replace(/^(℗\s+)/,"");return i="C"===e.type?"©":"P"===e.type?"℗":"(".concat(e.type,")"),t().createElement(l.Dy,{as:"p",variant:"finale",key:n,dir:"auto"},"".concat(i," ").concat(a))}));return i&&a.unshift(t().createElement(l.Dy,{as:"p",variant:"finale",key:a.length,dir:"auto"},i)),t().createElement("div",{className:d},a)}},40080:(e,n,i)=>{i.d(n,{D:()=>t});var a=i(67294);function t(e){var n=(0,a.useRef)();return(0,a.useEffect)((function(){n.current=e}),[e]),n.current}},48528:(e,n,i)=>{i.d(n,{R:()=>l});var a=i(20657),t=i(15066);function l(e){switch(e){case t.n.SINGLE:return a.ag.get("single");case t.n.EP:return a.ag.get("ep");case t.n.COMPILATION:return a.ag.get("compilation");case t.n.ALBUM:default:return a.ag.get("album")}}}}]);
//# sourceMappingURL=392.js.map